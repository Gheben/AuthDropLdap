# AuthDrop Configuration - Template
# Copy this file to .env and customize the values

# ============================================
# SUPER ADMIN CREDENTIALS
# ============================================
# These credentials will be used to create the super admin user
# on first installation (when database is empty)
# CHANGE THESE VALUES BEFORE FIRST RUN!
SUPER_ADMIN_USERNAME=admin
SUPER_ADMIN_PASSWORD=ChangeThisSecurePassword123!

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3441
NODE_ENV=production
DEBUG_MODE=false

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Database type: 'postgres' (recommended) or 'sqlite' (local only)
DB_TYPE=postgres

# PostgreSQL connection settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=authdrop
DB_USER=authdrop
DB_PASSWORD=ChangeThisDBPassword123!

# ============================================
# DOCKER COMPOSE SPECIFIC
# ============================================
# If using Docker Compose, set DB_HOST=postgres (container name)
# For standalone PostgreSQL, use DB_HOST=localhost or your DB server IP

# PostgreSQL container settings (used by docker-compose.yml)
POSTGRES_DB=authdrop
POSTGRES_USER=authdrop
POSTGRES_PASSWORD=ChangeThisDBPassword123!

# ============================================
# LDAP/ACTIVE DIRECTORY INTEGRATION
# ============================================
# Enable/disable LDAP integration
LDAP_ENABLED=false

# LDAP/LDAPS Connection
# Use ldap:// for standard LDAP (port 389) or ldaps:// for secure LDAP (port 636)
LDAP_URL=ldaps://dc.company.local:636
# Alternative for non-secure: ldap://dc.company.local:389

# Service Account for LDAP queries
# This account needs read permissions on users and groups
LDAP_BIND_DN=CN=ServiceAccount,CN=Users,DC=company,DC=local
LDAP_BIND_PASSWORD=SecureServicePassword123!

# LDAP Base DN (root of LDAP tree)
LDAP_BASE_DN=DC=company,DC=local

# User Search Configuration
LDAP_USER_SEARCH_BASE=CN=Users,DC=company,DC=local
LDAP_USER_SEARCH_FILTER=(objectClass=user)
LDAP_USER_ID_ATTRIBUTE=sAMAccountName
LDAP_USER_EMAIL_ATTRIBUTE=mail
LDAP_USER_DISPLAYNAME_ATTRIBUTE=displayName

# Group Search Configuration
LDAP_GROUP_SEARCH_BASE=OU=Groups,DC=company,DC=local
LDAP_GROUP_SEARCH_FILTER=(objectClass=group)
LDAP_GROUP_NAME_ATTRIBUTE=cn
LDAP_GROUP_MEMBER_ATTRIBUTE=member

# Auto-Sync Configuration
LDAP_AUTO_SYNC=false
LDAP_SYNC_INTERVAL=3600  # seconds (1 hour)

# SSL/TLS Options for LDAPS
LDAP_TLS_REJECT_UNAUTHORIZED=true  # Set to false for self-signed certificates (not recommended for production)
